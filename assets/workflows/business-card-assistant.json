{
  "name": "åç‰‡åŠ©æ‰‹(line@)",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.events[0].message.text }}",
        "options": {
          "systemMessage": "=ä½ æ˜¯æ™ºæ…§åç‰‡ç®¡ç†åŠ©æ‰‹ã€‚å¯ä»¥å”åŠ©:\n\n1. **æŸ¥è©¢åç‰‡è³‡æ–™** - ä½¿ç”¨ Google Sheets å·¥å…·æŸ¥è©¢åç‰‡è³‡æ–™åº«\n2. **å›ç­”ç›¸é—œå•é¡Œ** - æ ¹æ“šæŸ¥è©¢çµæœæä¾›è³‡è¨Š\n3. **å¼•å°ç”¨æˆ¶ä½¿ç”¨ç³»çµ±** - å”åŠ©ç”¨æˆ¶äº†è§£å¦‚ä½•ä½¿ç”¨\n\n---\n\n## æŸ¥è©¢åŠŸèƒ½èªªæ˜\n\nç•¶ç”¨æˆ¶æƒ³æŸ¥è©¢åç‰‡æ™‚ï¼ˆä¾‹å¦‚:ã€ŒæŸ¥è©¢å¼µä¸‰ã€ã€ã€Œæ‰¾ABCå…¬å¸çš„äººã€ã€ã€Œæœ‰æ²’æœ‰å¤§è±ç’°ä¿çš„è¯çµ¡äººã€ï¼‰ï¼Œè«‹ä½¿ç”¨ Google Sheets å·¥å…·é€²è¡ŒæŸ¥è©¢ã€‚\n\n**æŸ¥è©¢æ­¥é©Ÿ:**\n1. å¾ç”¨æˆ¶è¨Šæ¯ä¸­æå–é—œéµå­—ï¼ˆå§“åã€å…¬å¸åç­‰ï¼‰\n2. ä½¿ç”¨ Google Sheets å·¥å…·æŸ¥è©¢(æ¯æ¬¡è«‹æ±‚éƒ½è¦æŸ¥è©¢éä¸€æ¬¡google sheets)\n3. å°‡æŸ¥è©¢çµæœä»¥æ¸…æ™°æ˜“è®€çš„æ ¼å¼å›è¦†çµ¦ç”¨æˆ¶\n\n**å›è¦†æ ¼å¼ç¯„ä¾‹:**\n```\næ‰¾åˆ° [å§“å] çš„è³‡æ–™:\n\nğŸ“‡ å§“å: XXX\nğŸ¢ å…¬å¸: XXX\nğŸ’¼ è·ç¨±: XXX\nğŸ“± æ‰‹æ©Ÿ: XXX\nâ˜ï¸ å…¬å¸é›»è©±: XXX\nğŸ“ åœ°å€: XXX\nğŸ“§ Email: XXX\n```\n\nå¦‚æœæ‰¾ä¸åˆ°è³‡æ–™,è«‹ç¦®è²Œåœ°å‘ŠçŸ¥ç”¨æˆ¶,ä¸¦å»ºè­°:\n- ç¢ºèªå§“åæˆ–å…¬å¸åç¨±æ˜¯å¦æ­£ç¢º\n- å˜—è©¦ç”¨å…¶ä»–é—œéµå­—æŸ¥è©¢\n- æˆ–è€…ç›´æ¥æ‹æ”åç‰‡åœ–ç‰‡ä¾†æ–°å¢è³‡æ–™\n\n---\n\n## æ³¨æ„äº‹é …\n\n- æŸ¥è©¢æ™‚è¦æœ‰ç¦®è²Œä¸”å°ˆæ¥­\n- å¦‚æœæŸ¥è©¢çµæœæœ‰å¤šç­†,è«‹åˆ—å‡ºæ‰€æœ‰ç›¸é—œçµæœ\n- å›è¦†æ™‚ä½¿ç”¨æ¸…æ™°çš„æ ¼å¼,æ–¹ä¾¿ç”¨æˆ¶é–±è®€"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        208,
        1472
      ],
      "id": "d6531ffc-e32a-4ca2-816a-d260512c6e43",
      "name": "AI Agent (æŸ¥è©¢èˆ‡å°è©±)"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "text-message",
              "leftValue": "={{ $json.body.events[0].message.type }}",
              "rightValue": "text",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -256,
        1728
      ],
      "id": "2d11b992-3d22-4690-886e-7fe36bb1bf3a",
      "name": "åˆ¤æ–·è¨Šæ¯é¡å‹1"
    },
    {
      "parameters": {
        "url": "=https://api-data.line.me/v2/bot/message/{{ $json.body.events[0].message.id }}/content",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -32,
        1872
      ],
      "id": "f60426e7-918e-4fe0-8c68-e39ee360fc4f",
      "name": "å–å¾—åœ–ç‰‡1",
      "credentials": {
        "httpHeaderAuth": {
          "id": "hAqqSLtWsACu9yBq",
          "name": "å“ˆå“ˆç¬‘ä½ å“ˆå“ˆå“ˆå“ˆ"
        }
      }
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.0-flash",
          "mode": "list",
          "cachedResultName": "models/gemini-2.0-flash"
        },
        "text": "=è«‹è­˜åˆ¥é€™å¼µåç‰‡ä¸­çš„æ‰€æœ‰è³‡è¨Šï¼Œä¸¦ä»¥JSONæ ¼å¼å›å‚³ï¼š\n{\n  \"å…¬å¸åç¨±\": \"\",\n  \"å§“å\": \"\",\n  \"è·ç¨±\": \"\",\n  \"æ‰‹æ©Ÿé›»è©±\": \"\",\n  \"å…¬å¸é›»è©±\": \"\",\n  \"åœ°å€\": \"\",\n  \"email\": \"\"\n}\nå¦‚æœæŸå€‹æ¬„ä½ç„¡æ³•è­˜åˆ¥ï¼Œè«‹å¡«å…¥ç©ºå­—ä¸²ã€‚",
        "inputType": "binary",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        192,
        1872
      ],
      "id": "00cf2a2b-0637-4587-aa31-c0a1a11989e0",
      "name": "Gemini OCR è­˜åˆ¥1",
      "credentials": {
        "googlePalmApi": {
          "id": "1h781B9U5c9IZuiP",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// è§£æ Gemini OCR çµæœ\nconst geminiResponse = $input.first().json;\nlet cardData = {};\n\ntry {\n  // å¾ Gemini å›æ‡‰ä¸­æå– JSON\n  const text = geminiResponse.content?.parts?.[0]?.text || geminiResponse.text || '';\n  \n  // å˜—è©¦æå– JSON éƒ¨åˆ†\n  const jsonMatch = text.match(/\\{[\\s\\S]*\\}/);\n  if (jsonMatch) {\n    cardData = JSON.parse(jsonMatch[0]);\n  } else {\n    // å¦‚æœç„¡æ³•è§£æï¼Œå»ºç«‹ç©ºçš„è³‡æ–™çµæ§‹\n    cardData = {\n      å…¬å¸åç¨±: '',\n      å§“å: '',\n      è·ç¨±: '',\n      æ‰‹æ©Ÿé›»è©±: '',\n      å…¬å¸é›»è©±: '',\n      åœ°å€: '',\n      email: '',\n      ç¶²ç«™: ''\n    };\n  }\n} catch (error) {\n  console.error('è§£æéŒ¯èª¤:', error);\n  cardData = {\n    å…¬å¸åç¨±: '',\n    å§“å: '',\n    è·ç¨±: '',\n    æ‰‹æ©Ÿé›»è©±: '',\n    å…¬å¸é›»è©±: '',\n    åœ°å€: '',\n    email: '',\n    ç¶²ç«™: ''\n  };\n}\n\n// åŠ å…¥é¡å¤–è³‡è¨Š\nconst eventData = $('LINE Webhook è§¸ç™¼å™¨').first().json;\ncardData.userId = eventData.body.events[0].source.userId;\ncardData.replyToken = eventData.body.events[0].replyToken;\ncardData.timestamp = new Date().toISOString();\ncardData.ä¾†æº = 'LINEåœ–ç‰‡';\n\nreturn [{\n  json: cardData\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        416,
        1872
      ],
      "id": "c94a5afa-8874-4025-a799-5c05e5819be3",
      "name": "è§£æ OCR çµæœ1"
    },
    {
      "parameters": {
        "jsCode": "// æ ¼å¼åŒ–å›è¦†è¨Šæ¯\nconst input = $input.first().json;\nconst webhookData = $('LINE Webhook è§¸ç™¼å™¨').first().json;\n\nlet replyMessage = '';\nlet replyToken = webhookData.body.events[0].replyToken;\n\n// åˆ¤æ–·æ˜¯å“ªæ¢è·¯å¾‘\nif (input.output) {\n  // ===== AI Agent è·¯å¾‘ =====\n  replyMessage = typeof input.output === 'string' ? input.output : JSON.stringify(input.output);\n} else if (input.å§“å || input.å…¬å¸åç¨±) {\n  // ===== åœ–ç‰‡ OCR è·¯å¾‘ =====\n  let displayName = '';\n  \n  if (input.å…¬å¸åç¨± && input.å§“å) {\n    // æœ‰å…¬å¸åå’Œå§“å\n    displayName = `${input.å…¬å¸åç¨±} ${input.å§“å}`;\n  } else if (input.å…¬å¸åç¨±) {\n    // åªæœ‰å…¬å¸å\n    displayName = input.å…¬å¸åç¨±;\n  } else if (input.å§“å) {\n    // åªæœ‰å§“å\n    displayName = input.å§“å;\n  } else {\n    // éƒ½æ²’æœ‰\n    displayName = 'æœªçŸ¥';\n  }\n  \n  replyMessage = `è™•ç†å®Œæˆ:å·²æ–°å¢${displayName}çš„åç‰‡`;\n} else {\n  // ===== é è¨­å›è¦† =====\n  replyMessage = 'è™•ç†å®Œæˆ';\n}\n\n// ç¢ºä¿è¨Šæ¯ä¸ç‚ºç©º\nif (!replyMessage) {\n  replyMessage = 'è™•ç†å®Œæˆ';\n}\n\n// åªæ¸…ç†å¯èƒ½å°è‡´ JSON éŒ¯èª¤çš„å­—ç¬¦,ä½†ä¿ç•™æ›è¡Œç¬¦è™Ÿ\nreplyMessage = String(replyMessage)\n  .replace(/\\\\/g, '\\\\\\\\')  // åæ–œç·š\n  .replace(/\"/g, '\\\\\"');   // é›™å¼•è™Ÿ\n  // ç§»é™¤äº†å° \\n, \\r, \\t çš„è½‰ç¾©,è®“ LINE èƒ½æ­£ç¢ºé¡¯ç¤ºæ›è¡Œ\n\nreturn [{\n  json: {\n    replyToken: replyToken,\n    replyMessage: replyMessage\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        896,
        1712
      ],
      "id": "f6d38f5b-6af3-498b-a3a2-525863b4d305",
      "name": "æ ¼å¼åŒ–å›è¦†1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        176,
        1696
      ],
      "id": "efe50c8e-33fc-4d25-aa97-96dbf8cdd4a3",
      "name": "Gemini æ¨¡å‹1",
      "credentials": {
        "googlePalmApi": {
          "id": "1h781B9U5c9IZuiP",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('LINE Webhook è§¸ç™¼å™¨').item.json.body.events[0].source.userId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        304,
        1696
      ],
      "id": "4cca461a-f110-4825-a071-5a4c606d4e71",
      "name": "Simple Memory2"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "15Wa7I0qsCsk38gTPXmdkKu0SHpJ4kAU7b-VoK0vKsgo",
          "mode": "list",
          "cachedResultName": "n8n-haha",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15Wa7I0qsCsk38gTPXmdkKu0SHpJ4kAU7b-VoK0vKsgo/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1137796830,
          "mode": "list",
          "cachedResultName": "name_card",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15Wa7I0qsCsk38gTPXmdkKu0SHpJ4kAU7b-VoK0vKsgo/edit#gid=1137796830"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "æ‰‹æ©Ÿé›»è©±": "={{ $json['æ‰‹æ©Ÿé›»è©±'] }}",
            "å§“å": "={{ $json['å§“å'] }}",
            "å…¬å¸åç¨±": "={{ $json['å…¬å¸åç¨±'] }}",
            "è·ç¨±": "={{ $json['è·ç¨±'] }}",
            "å…¬å¸é›»è©±": "={{ $json['å…¬å¸é›»è©±'] }}",
            "åœ°å€": "={{ $json['åœ°å€'] }}",
            "email": "={{ $json.email }}",
            "æœ€å¾Œæ›´æ–°æ™‚é–“": "={{ $json.timestamp }}",
            "ä¿®æ”¹äºº": "={{ $json.userId }}"
          },
          "matchingColumns": [
            "æ‰‹æ©Ÿé›»è©±"
          ],
          "schema": [
            {
              "id": "å…¬å¸åç¨±",
              "displayName": "å…¬å¸åç¨±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "å§“å",
              "displayName": "å§“å",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "è·ç¨±",
              "displayName": "è·ç¨±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æ‰‹æ©Ÿé›»è©±",
              "displayName": "æ‰‹æ©Ÿé›»è©±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "å…¬å¸é›»è©±",
              "displayName": "å…¬å¸é›»è©±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "åœ°å€",
              "displayName": "åœ°å€",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "email",
              "displayName": "email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "æœ€å¾Œæ›´æ–°æ™‚é–“",
              "displayName": "æœ€å¾Œæ›´æ–°æ™‚é–“",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "ä¿®æ”¹äºº",
              "displayName": "ä¿®æ”¹äºº",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        640,
        1872
      ],
      "id": "50890813-442e-4f6f-a677-976fbc045dee",
      "name": "å„²å­˜åˆ° Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "6wUJ6Goo93XlixiL",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "bcard",
        "options": {}
      },
      "id": "0c38b054-f2ae-4c9f-82a2-9823b358b733",
      "name": "LINE Webhook è§¸ç™¼å™¨",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        -480,
        1728
      ],
      "webhookId": "915a69cd-ac3f-4499-a0b4-e6bc3019a3b7"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://api.line.me/v2/bot/message/reply",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "contentType": "raw",
        "rawContentType": "application/json",
        "body": "={{\n  JSON.stringify({\n    replyToken: $('LINE Webhook è§¸ç™¼å™¨').item.json.body.events[0].replyToken,\n    messages: [{\n      type: \"text\",\n      text: $json.replyMessage\n    }]\n  })\n}}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1136,
        1712
      ],
      "id": "6bf5c2e6-de8a-45e4-9758-478054fafc76",
      "name": "reply",
      "credentials": {
        "httpHeaderAuth": {
          "id": "hAqqSLtWsACu9yBq",
          "name": "å“ˆå“ˆç¬‘ä½ å“ˆå“ˆå“ˆå“ˆ"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "15Wa7I0qsCsk38gTPXmdkKu0SHpJ4kAU7b-VoK0vKsgo",
          "mode": "list",
          "cachedResultName": "n8n-haha",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15Wa7I0qsCsk38gTPXmdkKu0SHpJ4kAU7b-VoK0vKsgo/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1137796830,
          "mode": "list",
          "cachedResultName": "name_card",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15Wa7I0qsCsk38gTPXmdkKu0SHpJ4kAU7b-VoK0vKsgo/edit#gid=1137796830"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        448,
        1680
      ],
      "id": "b2c7ac3a-84cf-4791-b964-91808ffb3579",
      "name": "Get row(s) in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "JCMhIRKtEbCRjmZp",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "content": "### âš ï¸ å¿…é ˆè¨­å®š\n\n1. **è¤‡è£½ Webhook URL**\n   - å•Ÿå‹• workflow å¾Œè¦åœ¨Line@æ”¹æˆã€ŒProduction URLã€\n\n2. **è¨­å®šåˆ° LINE@ Messaging API**",
        "height": 368,
        "width": 224
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -544,
        1520
      ],
      "typeVersion": 1,
      "id": "2c25239f-2c59-4073-8159-f7e87d964312",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "### åŠŸèƒ½\n- è™•ç†ç”¨æˆ¶çš„æ–‡å­—æŸ¥è©¢\n- ä½¿ç”¨ Google Sheets å·¥å…·æŸ¥è©¢åç‰‡è³‡æ–™\n- è¨˜æ†¶å°è©±æ­·å²(é€é Simple Memory)\n- æä¾›æ™ºæ…§å›æ‡‰\n\n### âš ï¸ å¿…é ˆé€£æ¥\nç¢ºä¿ä»¥ä¸‹ç¯€é»å·²æ­£ç¢ºé€£æ¥åˆ°æ­¤ AI Agent:\n- âœ… **Gemini æ¨¡å‹1** (è¦æ–°å¢APIæ†‘è­‰)\n- âœ… **Google Sheets æŸ¥è©¢å·¥å…·** (documentå’Œsheetè¨­å®šæˆå’Œ\"å„²å­˜åˆ°Google Sheets\"çš„ç¯€é»åŒä¸€å€‹åœ°æ–¹)\n\n\n### å¯è‡ªè¨‚è¨­å®š\n**ä¿®æ”¹ System Message** ä¾†èª¿æ•´ AI è¡Œç‚º:\n- AI çš„å›æ‡‰èªæ°£(å°ˆæ¥­/è¦ªåˆ‡/ç°¡æ½”)\n- æŸ¥è©¢çµæœçš„å‘ˆç¾æ ¼å¼\n- ç‰¹æ®Šçš„è™•ç†é‚è¼¯\n### ğŸ“ æ³¨æ„äº‹é …\n- Input è¨­å®šç‚º: `={{ $json.body.events[0].message.text }}`\n- å¦‚æœ AI å›æ‡‰ä¸å¦‚é æœŸ,æª¢æŸ¥ System Message çš„æŒ‡ç¤ºæ˜¯å¦æ¸…æ¥š\n- å¯ä»¥åœ¨ System Message ä¸­åŠ å…¥å…·é«”ç¯„ä¾‹",
        "height": 880,
        "width": 528
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        96,
        944
      ],
      "typeVersion": 1,
      "id": "21a313de-b5b5-4e95-8a9c-f9436706d5b7",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "\n\n\n\n\n\n\n\n\n\n\n### âš ï¸ å¿…é ˆè¨­å®š\n\n**è¨­å®š LINE Channel Access Token**\n\n1. **å–å¾— Channel Access Token**\n   - è¦åˆ°[LINE Developers Console]\n\n2. **åœ¨ n8n ä¸­æ–°å¢æ†‘è­‰**\n   - é»æ“Šã€ŒCredential to connect withã€\n   - é¸æ“‡ã€ŒCreate Newã€â†’ã€ŒHTTP Header Authã€\n   - **Name**: `Authorization`\n   - **Value**: `Bearer YOUR_CHANNEL_ACCESS_TOKEN`\n   - å°‡ `YOUR_CHANNEL_ACCESS_TOKEN` æ›¿æ›æˆå‰›æ‰è¤‡è£½çš„ Token\n   - å„²å­˜æ†‘è­‰\n\n### ğŸ“ æ³¨æ„äº‹é …\n- èˆ‡ã€Œreplyã€ç¯€é»ä½¿ç”¨**ç›¸åŒçš„æ†‘è­‰**\n- Token æ ¼å¼å¿…é ˆæ˜¯: `Bearer ` + ä½ çš„ Token (æ³¨æ„ Bearer å¾Œé¢æœ‰ç©ºæ ¼)\n- å¦‚æœå‡ºç¾ 401 éŒ¯èª¤,æª¢æŸ¥ Token æ˜¯å¦æ­£ç¢º",
        "height": 720,
        "width": 272
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -128,
        1856
      ],
      "typeVersion": 1,
      "id": "2ea81316-9ac3-4f1a-8144-d0a7256041f7",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "\n\n\n\n\n\n\n\n\n\n\n\n\n### åŠŸèƒ½\n- å°‡è­˜åˆ¥å‡ºçš„åç‰‡è³‡æ–™å„²å­˜åˆ° Google Sheets\n- ä½¿ç”¨ã€Œæ‰‹æ©Ÿé›»è©±ã€ä½œç‚ºå”¯ä¸€è­˜åˆ¥\n- å¦‚æœé›»è©±å·²å­˜åœ¨å‰‡**æ›´æ–°**,å¦å‰‡**æ–°å¢**\n\n### âš ï¸ å¿…é ˆè¨­å®š\n\n**1. æ–°å¢ Google Sheets OAuth2 æ†‘è­‰**\n**2. é¸æ“‡æ–‡ä»¶èˆ‡å·¥ä½œè¡¨**\n   - **Document**: é¸æ“‡ä½ çš„åç‰‡è³‡æ–™åº« Sheets\n   - **Sheet Name**: é¸æ“‡å·¥ä½œè¡¨\n\n**3. è¨­å®šæ¬„ä½å°æ‡‰**\n   - **Operation**: Append or Update\n   - **Matching Columns**: `æ‰‹æ©Ÿé›»è©±` (ä½œç‚ºå”¯ä¸€è­˜åˆ¥)\n   - ç¢ºèªæ‰€æœ‰æ¬„ä½å°æ‡‰æ­£ç¢º\n\n### ğŸ“‹ å»ºè­°çš„ Sheets æ¬„ä½\n\nåœ¨ Google Sheets ä¸­å»ºç«‹ä»¥ä¸‹æ¬„ä½(ç¬¬ä¸€è¡Œ):\n```\nå…¬å¸åç¨± | å§“å | è·ç¨± | æ‰‹æ©Ÿé›»è©± | å…¬å¸é›»è©± | åœ°å€ | email | æœ€å¾Œæ›´æ–°æ™‚é–“ | ä¿®æ”¹äºº\n```\n\n### ğŸ“ æ³¨æ„äº‹é …\n- ä½¿ç”¨ã€Œæ‰‹æ©Ÿé›»è©±ã€ä½œç‚ºå”¯ä¸€è­˜åˆ¥,ç›¸åŒé›»è©±æœƒæ›´æ–°è€Œéé‡è¤‡æ–°å¢\n- å¦‚æœè¦æ”¹ç”¨å…¶ä»–æ¬„ä½ä½œç‚ºè­˜åˆ¥(å¦‚ email),ä¿®æ”¹ã€ŒMatching Columnsã€\n- ç¢ºä¿ Sheets çš„æ¬„ä½åç¨±èˆ‡æ­¤ç¯€é»çš„è¨­å®š**å®Œå…¨ä¸€è‡´**\n- ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰,å»ºè­°å…ˆæ‰‹å‹•åœ¨ Sheets ä¸­åŠ å…¥æ¬„ä½æ¨™é¡Œ",
        "height": 944,
        "width": 320
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        544,
        1856
      ],
      "typeVersion": 1,
      "id": "4cc7047d-7b7e-438e-89da-7169ca6168d5",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "### åŠŸèƒ½\n- å°‡è™•ç†çµæœå›è¦†çµ¦ LINE ç”¨æˆ¶\n- ä½¿ç”¨ LINE Messaging API\n\n### âš ï¸ å¿…é ˆè¨­å®š\n\n**è¨­å®š LINE Channel Access Token**\n\nä½¿ç”¨èˆ‡ã€Œå–å¾—åœ–ç‰‡1ã€**ç›¸åŒçš„æ†‘è­‰**\n\n\n### ğŸ“ æ³¨æ„äº‹é …\n- **ä¸éœ€è¦ä¿®æ”¹** URL å’Œ Body çš„è¨­å®š\n- å¦‚æœå‡ºç¾ 401 éŒ¯èª¤,æª¢æŸ¥æ†‘è­‰æ˜¯å¦æ­£ç¢ºè¨­å®š\n- å¦‚æœå‡ºç¾ 400 éŒ¯èª¤,æª¢æŸ¥ replyToken æ˜¯å¦æœ‰æ•ˆ\n- replyToken åªèƒ½ä½¿ç”¨ä¸€æ¬¡,ä¸èƒ½é‡è¤‡å›è¦†\n",
        "height": 592,
        "width": 320
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1040,
        1296
      ],
      "typeVersion": 1,
      "id": "e4c51d56-2884-4cd2-b77a-ec06edb020f6",
      "name": "Sticky Note4"
    }
  ],
  "pinData": {},
  "connections": {
    "AI Agent (æŸ¥è©¢èˆ‡å°è©±)": {
      "main": [
        [
          {
            "node": "æ ¼å¼åŒ–å›è¦†1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆ¤æ–·è¨Šæ¯é¡å‹1": {
      "main": [
        [
          {
            "node": "AI Agent (æŸ¥è©¢èˆ‡å°è©±)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "å–å¾—åœ–ç‰‡1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å–å¾—åœ–ç‰‡1": {
      "main": [
        [
          {
            "node": "Gemini OCR è­˜åˆ¥1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini OCR è­˜åˆ¥1": {
      "main": [
        [
          {
            "node": "è§£æ OCR çµæœ1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è§£æ OCR çµæœ1": {
      "main": [
        [
          {
            "node": "å„²å­˜åˆ° Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ ¼å¼åŒ–å›è¦†1": {
      "main": [
        [
          {
            "node": "reply",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini æ¨¡å‹1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent (æŸ¥è©¢èˆ‡å°è©±)",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory2": {
      "ai_memory": [
        [
          {
            "node": "AI Agent (æŸ¥è©¢èˆ‡å°è©±)",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "å„²å­˜åˆ° Google Sheets": {
      "main": [
        [
          {
            "node": "æ ¼å¼åŒ–å›è¦†1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "LINE Webhook è§¸ç™¼å™¨": {
      "main": [
        [
          {
            "node": "åˆ¤æ–·è¨Šæ¯é¡å‹1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent (æŸ¥è©¢èˆ‡å°è©±)",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "315ca6ad-603d-4e8b-9576-b17ab83f844f",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "173e90798b194ce1f2371138ef6c7e84ef25a71b3ff7a589cf1cbb5017d96a74"
  },
  "id": "asqDnmfA1mu1iRZI",
  "tags": []
}